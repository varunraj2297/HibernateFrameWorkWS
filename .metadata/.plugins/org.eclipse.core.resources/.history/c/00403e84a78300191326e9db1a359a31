package com.nt.dao;

import java.util.List;

import javax.persistence.ParameterMode;
import javax.persistence.StoredProcedureQuery;

import org.hibernate.Session;
import org.hibernate.procedure.ProcedureCall;
import org.hibernate.result.Output;
import org.hibernate.result.ResultSetOutput;

import com.nt.utility.HibernateUtil;

public class BankDAOImpl implements BankDAO {

	@Override
	public List<Object[]> getCustomerDetailsByAdd(String addrs) {
	    Session ses=null;
	    ProcedureCall call=null;
	    Output output=null;
	    List<Object[]> list=null;
	    
	    
	    ses=HibernateUtil.getSession();
	    
	    
	    call=ses.createStoredProcedureCall("fx_get_bankacc_info_byaddrs");
	    
	    call.registerParameter(1,Class.class,ParameterMode.REF_CURSOR);
	    call.registerParameter(2,String.class,ParameterMode.IN);
	    output=call.getOutputs().getCurrent();
	    list=((ResultSetOutput) output).getResultList();
		return ;
	}

}
